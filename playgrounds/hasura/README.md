# Hasura Playground

Performance testing playground with 100+ tables for stress-testing soda-gql's TypeScript type inference.

## Prerequisites

- Docker and Docker Compose
- Bun runtime

## Quick Start

```bash
# Install dependencies
bun install

# Full setup (generates schema, starts Docker, exports GraphQL schema)
bun run setup
```

## Manual Operations

```bash
# Start Docker containers
bun run docker:up

# Stop Docker containers
bun run docker:down

# Reset (removes volumes and restarts)
bun run docker:reset

# View Hasura logs
bun run docker:logs

# Export GraphQL schema from running Hasura
bun run schema:export
```

## Hasura Console

Once running, access the Hasura console at: http://localhost:8080/console

Admin secret: `myadminsecret`

## Table Structure

The schema includes ~100 tables across multiple domains:

### EC (E-Commerce) - 30 tables
- Core: products, orders, carts, payments, shipping_addresses, reviews
- Master: brands, colors, sizes, currencies, countries

### SNS (Social Network) - 20 tables
- posts, likes, follows, messages, notifications, timelines

### CMS (Content Management) - 20 tables
- articles, pages, blocks, media, authors, sites

### Relation Patterns
- Junction tables for many-to-many relationships (15 tables)
- Self-referential tables for tree structures (10 tables)
- Deep nesting chains for 5+ level queries (5 tables)

## Schema Generation

The schema is auto-generated by TypeScript scripts:

```bash
# Regenerate SQL migrations
bun run db:generate-schema

# Regenerate Hasura metadata
bun run db:generate-metadata
```

## Performance Testing

Use this playground to test soda-gql type-checking performance with large schemas:

```bash
# Run type-check with this schema
bun run typecheck
```
